# 5월 11일

## 거북이 앞뒤로 이동
### python

> 1. yh_turtle폴더 안에 scripts 폴더 생성, turtle_patrol.py파일을 생성
> 2. CMakeLists.txt에 catkin_install_python을 수정
> 3. 'cm' 빌드 이후 'roscore, rosrun turtlesim turtlesim_node, rosrun yh_turtle turtle_patrol.py'실행

> turtle_patrol.py

```python
#!/usr/bin/python
#!-*- cording : utf-8 -*-

import rospy
from geometry_msgs.msg import Twist

rospy.init_node("turtle_patrol")
pub = rospy.Publisher("turtle1/cmd_vel", Twist, queue_size=10);

loop_rate = rospy.Rate(1)

# 값을 않넣으면 0의 값으로 자동 입력
msg = Twist()
msg.linear.x = 1.0

while not rospy.is_shutdown():
    pub.publish(msg)
    msg.linear.x *= -1.0 # 방향이 바뀜
    loop_rate.sleep()
```
> 실행 결과

![Screenshot from 2023-05-11 09-56-14](https://github.com/ajhwan/ros-study/assets/129160008/57c363a7-2900-4233-ab1d-26d446484b5f)
![Screenshot from 2023-05-11 09-56-28](https://github.com/ajhwan/ros-study/assets/129160008/1a9db3a9-5bf0-479c-ac41-baf3830d91aa)

### ROS launch
> launch 폴더 생성
- 실행 시 여러개의 노드들을 켜주는 역할 
> 1. yh_turtle폴더에 launch폴더를 생성
> 2. turtle_patrol.launch (확장자 : .launch)파일 생성
> 3. roslaunch yh_turtle turtle_patrol.launch로 launch를 실행 할 수 있음
```launch
<launch>
    <node pkg="turtlesim" type="turtlesim_node" name="turtleturtle" />
    <node pkg="yh_turtle" type="turtle_patrol.py" name="patrolpatrol" />
</launch>
```
- pkg : 패키지 이름, type : 노드 이름, name : 사용할 이름

> 실행 결과

![Screenshot from 2023-05-11 10-34-13](https://github.com/ajhwan/ros-study/assets/129160008/7057f3a5-e2ae-4937-9ec3-500b17af96fa)
![Screenshot from 2023-05-11 10-34-20](https://github.com/ajhwan/ros-study/assets/129160008/aa6406ff-b7e8-48f2-a372-180a03e9b53d)

> rqt_graph

![Screenshot from 2023-05-11 10-37-38](https://github.com/ajhwan/ros-study/assets/129160008/12b3b712-67be-479a-9f95-f708af86ac10)




