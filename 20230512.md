# 5월 12일

## turtle param
- rosparam list로 파라미터 확인
- background로 배경색 변경가능
- rosparam get /turtlesim/background_(r, g, b)
- rosparam set /turtlesim/background_(r, g, b) (숫자)로 값을 변경
- rqt, service의 /reset을 활용하여 적용한다. (다시 켜는 경우 적용된다.)

### launch파일에서 param 옵션 설정
- turtle_background.launch로 launch폴더 안에 생성
```launch
<launch>
    <!-- $(find 패키지이름)/런치파일경로/런치파일.launch -->
    <include file="$(find yh_turtle)/launch/turtle_keyboard_clear.launch" />
    <param name="/turtle/background_r" value="255" type="int" />
    <param name="/turtle/background_g" value="0" type="int" />
    <param name="/turtle/background_b" value="255" type="int" />
</launch>
```
> 실행 결과

>> 배경색이 바뀜

![Screenshot from 2023-05-12 10-54-49](https://github.com/ajhwan/ros-study/assets/129160008/711ac0c2-d6c4-4105-8957-47c8ff4c2393)

>> 't'를 눌러서 선을 삭제

![Screenshot from 2023-05-12 10-55-12](https://github.com/ajhwan/ros-study/assets/129160008/4d0f3dd5-f3c0-4527-b1a7-c8a96f52a610)
![Screenshot from 2023-05-12 10-55-20](https://github.com/ajhwan/ros-study/assets/129160008/d102dbfd-f0a3-4604-93e6-b7b57f01b94b)

```launch
<launch>
    <!-- $(find 패키지이름)/런치파일경로/런치파일.launch -->
    <include file="$(find yh_turtle)/launch/turtle_keyboard_clear.launch" />
    <param name="/turtle/background_r" value="255" type="int" />
    <param name="/turtle/background_g" value="0" type="int" />
    <param name="/turtle/background_b" value="255" type="int" />
</launch>
```
- 로 바꿔서 실행시 배경색 설정이 가능하도록 바꿈
![Screenshot from 2023-05-12 11-00-53](https://github.com/ajhwan/ros-study/assets/129160008/7eaffd91-d99d-4e5e-9128-d5023f2e1e14)

>> 실행 결과

![Screenshot from 2023-05-12 11-00-31](https://github.com/ajhwan/ros-study/assets/129160008/b16d9270-0d0f-4999-8006-c3dcb1322855)

## ROBOTIS-GIT/turtlebot3
### turtlebot3
> 1. github 검색에서 turtlebot3를 검색을 한다.
> 2. ROBOTIS-GIt/turtlebot3로 들어간다.
> 3. code리스트 에서 https의 깃주소의 방식으로 다운로드한다.
> 4. 터미널 창을 열고 'cs' ~/catkin_ws/src에 다운로드 장소로 한다.
> 5. git clone (복사해온 깃주소)로 다운로드 해준다.
- turtlebot3 = 로스 공식 모바일 이동체 교육용도 플렛폼
> 6. sudo apt install ros-noetic-turtlebot3-msgs를 설치한다.
> 7. 'cm'으로 빌드를 해준다.
> 8. sudo apt install ros-noetic-turtlebot3-simulations를 설치한다.

#### 모델 설정 및 실행
> 1. export TURTLEBOT3_MODEL=burger 환경 변수 입력
> 2. echo $TURTLEBOT3_MODEL로 환경 설정이 올바르게 되었는지 확인 가능
> 3. roslaunch turtlebot3_gazebo turtlebot3_world.launch : gazebo 시뮬레이터를 사용한는 명령
> 4. rqt_graph를 실행, 다른창에 rqt 실행 plugins - topic - message publisher실행
> 5. Topic : cmd_vel, Type: geometry_msgs/Twist를 Hz에 +로 추가하기
> 6. 안쪽에 있는 속도를 설정하여 움직임을 본다.
> 7. rosrun teleop_twist_keyboard teleop_twist_keyboard.py로 키보드 제어를 킨다.

##### rostopic list
- /clock : 시뮬레이션의 시간을 맞춰준다.
- /cmd_vel : 움직임을 줄 수 있다.
- /gazebo : 시뮬레이션에게 정보를 주는 부분
- /imu : 실제 모바일 이동체에서 센서를 이용해서 취득하는 정보 (imu 센서로 센싱 정보) 가속도 센서, 자이로스코프 센서, 자기장 센서로 센서의 자세를 얻어낸다.
- /scan : 실제 모바일 이동체에서 센서를 이용해서 취득하는 정보 (라이다 센서(빛을 가지고 거리슷 측정)와 같은 센서)

> - rostopic echo /imu로 센서 정보를 볼수있다.
>   - orientation의 x,y,z,w의 값을 가지고 있다. 짐벌락의 현상으로 떨리는 모습이 보인다. 특정 자세를 주기위해 w값이 있다.
>   - w : 쿼터니언으로 특정자세를 주는 것이다. (짐벌락의 현상을 없애기위한 값)
>   - 어느 위치의 측정한 값인지를 판별하기위해 stamp(시간)의 값도 들어온다.
> - rostopic echo /scan으로 센서값을 확인 할 수있다. ranges에 들어있는 정보가 중요한다.

> - echo "export TURTLEBOT3_MODEL=burger" >> ~/.bashrc 이후 sb
> - roslaunch turtlebot3_slam turtlebot3_slam.launch



